@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap');
@import "tailwindcss";

/* Configure Tailwind v4 dark mode to use class-based approach */
@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --color-bg: #f6f8fb;
  --color-bg-muted: #eef2f7;
  --color-panel: #ffffff;
  --color-panel-strong: #f9fbff;
  --color-border: #dfe6f0;
  --color-text: #0f172a;
  --color-text-muted: #5b6b7d;
  --color-accent: #12b5c6;
  --color-accent-strong: #0e99aa;
  --color-accent-soft: rgba(18, 181, 198, 0.15);
  --shadow: 0 12px 30px rgba(15, 23, 42, 0.08);

  /* Dark mode variables */
  --color-bg-dark: #060b14;
  --color-bg-muted-dark: #0b1220;
  --color-panel-dark: #0b1220;
  --color-panel-strong-dark: #111a2a;
  --color-border-dark: #1f2a3a;
  --color-text-dark: #e2e8f0;
  --color-text-muted-dark: #8a9bb2;
  --color-accent-dark: #1ccad8;
  --color-accent-strong-dark: #14a3b0;
  --color-accent-soft-dark: rgba(28, 202, 216, 0.18);
  --shadow-dark: 0 16px 36px rgba(0, 0, 0, 0.35);
}

html,
body,
#root {
  height: 100%;
}

:root {
  color-scheme: light;
}

:root,
.light {
  --bg: var(--color-bg);
  --bg-muted: var(--color-bg-muted);
  --panel: var(--color-panel);
  --panel-strong: var(--color-panel-strong);
  --border: var(--color-border);
  --text: var(--color-text);
  --text-muted: var(--color-text-muted);
  --accent: var(--color-accent);
  --accent-strong: var(--color-accent-strong);
  --accent-soft: var(--color-accent-soft);
  --shadow: var(--shadow);
}

/* Dark mode - applied when .dark class is on html element */
.dark {
  color-scheme: dark;
  --bg: var(--color-bg-dark);
  --bg-muted: var(--color-bg-muted-dark);
  --panel: var(--color-bg-dark);
  --panel-strong: var(--color-panel-strong-dark);
  --border: var(--color-border-dark);
  --text: var(--color-text-dark);
  --text-muted: var(--color-text-muted-dark);
  --accent: var(--color-accent-dark);
  --accent-strong: var(--color-accent-strong-dark);
  --accent-soft: var(--color-accent-soft-dark);
  --shadow: var(--shadow-dark);
}

body {
  background-color: var(--bg) !important;
  color: var(--text);
  font-family: 'Manrope', ui-sans-serif, system-ui, -apple-system, sans-serif;
}

/* Force background colors for dark mode - comprehensive override */
.dark {
  background-color: var(--color-bg-dark);
}

/* Dashboard and card backgrounds in dark mode */
.dark .bg-white,
.dark .bg-gray-50,
.dark .bg-gray-100 {
  background-color: var(--color-panel-dark) !important;
}

.dark .border-gray-200,
.dark .border-gray-300 {
  border-color: var(--color-border-dark) !important;
}

/* Text colors in dark mode */
.dark .text-gray-900,
.dark .text-gray-800,
.dark .text-gray-700 {
  color: var(--color-text-dark) !important;
}

.dark .text-gray-600,
.dark .text-gray-500,
.dark .text-gray-400 {
  color: var(--color-text-muted-dark) !important;
}

/* Card and panel elements */
.dark [class*="bg-white"],
.dark [class*="bg-gray-50"],
.dark [class*="bg-gray-100"],
.dark [class*="bg-gray-200"] {
  background-color: var(--color-panel-dark) !important;
}

/* Border colors */
.dark [class*="border-gray-200"],
.dark [class*="border-gray-300"] {
  border-color: var(--color-border-dark) !important;
}

/* Scanner page specific fixes */
.dark .min-h-screen {
  background-color: var(--color-bg-dark) !important;
}

/* Status indicators */
.dark .bg-green-500 {
  background-color: #22c55e !important;
}

.dark .bg-yellow-500 {
  background-color: #eab308 !important;
}

.dark .bg-red-500 {
  background-color: #ef4444 !important;
}

.dark .bg-blue-500 {
  background-color: #3b82f6 !important;
}

/* Network Status and Location card backgrounds in dark mode */
.dark .bg-green-50 {
  background-color: rgba(22, 101, 52, 0.15) !important;
}

.dark .bg-green-100 {
  background-color: rgba(22, 101, 52, 0.25) !important;
}

.dark .bg-yellow-50 {
  background-color: rgba(161, 98, 7, 0.15) !important;
}

.dark .bg-yellow-100 {
  background-color: rgba(161, 98, 7, 0.25) !important;
}

.dark .bg-blue-50 {
  background-color: rgba(29, 78, 216, 0.15) !important;
}

.dark .bg-blue-100 {
  background-color: rgba(29, 78, 216, 0.25) !important;
}

/* Text colors with CSS variables - force override */
.theme-text {
  color: var(--color-text) !important;
}

.theme-text-muted {
  color: var(--color-text-muted) !important;
}

.dark .theme-text {
  color: var(--color-text-dark) !important;
}

.dark .theme-text-muted {
  color: var(--color-text-muted-dark) !important;
}

/* Login route transition system */
.login-shell {
  perspective: 1800px;
}

.login-card {
  transform-style: preserve-3d;
  will-change: transform, opacity, filter;
  backface-visibility: hidden;
}

.login-flip-in-left {
  animation: loginFlipInLeft 620ms cubic-bezier(0.19, 1, 0.22, 1);
}

.login-flip-in-right {
  animation: loginFlipInRight 620ms cubic-bezier(0.19, 1, 0.22, 1);
}

.login-flip-out-left {
  animation: loginFlipOutLeft 420ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

.login-flip-out-right {
  animation: loginFlipOutRight 420ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes loginFlipInLeft {
  0% {
    opacity: 0;
    transform: perspective(1800px) rotateY(-84deg) translateX(-140px) scale(0.88);
    filter: blur(8px) saturate(0.9);
  }
  55% {
    opacity: 1;
    transform: perspective(1800px) rotateY(14deg) translateX(18px) scale(1.02);
    filter: blur(0);
  }
  100% {
    opacity: 1;
    transform: perspective(1800px) rotateY(0deg) translateX(0) scale(1);
    filter: blur(0);
  }
}

@keyframes loginFlipInRight {
  0% {
    opacity: 0;
    transform: perspective(1800px) rotateY(84deg) translateX(140px) scale(0.88);
    filter: blur(8px) saturate(0.9);
  }
  55% {
    opacity: 1;
    transform: perspective(1800px) rotateY(-14deg) translateX(-18px) scale(1.02);
    filter: blur(0);
  }
  100% {
    opacity: 1;
    transform: perspective(1800px) rotateY(0deg) translateX(0) scale(1);
    filter: blur(0);
  }
}

@keyframes loginFlipOutLeft {
  0% {
    opacity: 1;
    transform: perspective(1800px) rotateY(0deg) translateX(0) scale(1);
    filter: blur(0);
  }
  100% {
    opacity: 0;
    transform: perspective(1800px) rotateY(72deg) translateX(120px) scale(0.9);
    filter: blur(7px) saturate(0.9);
  }
}

@keyframes loginFlipOutRight {
  0% {
    opacity: 1;
    transform: perspective(1800px) rotateY(0deg) translateX(0) scale(1);
    filter: blur(0);
  }
  100% {
    opacity: 0;
    transform: perspective(1800px) rotateY(-72deg) translateX(-120px) scale(0.9);
    filter: blur(7px) saturate(0.9);
  }
}

/* High-end login form motion + themed styling */
.login-shell::before,
.login-shell::after {
  content: '';
  position: fixed;
  width: 46vw;
  height: 46vw;
  border-radius: 50%;
  pointer-events: none;
  filter: blur(60px);
  opacity: 0.22;
  z-index: 0;
}

.login-shell::before {
  top: -18vw;
  right: -14vw;
  background: radial-gradient(circle, var(--accent), transparent 62%);
  animation: loginOrbDriftA 11s ease-in-out infinite alternate;
}

.login-shell::after {
  bottom: -20vw;
  left: -16vw;
  background: radial-gradient(circle, var(--accent-strong), transparent 62%);
  animation: loginOrbDriftB 13s ease-in-out infinite alternate;
}

.login-card-pro {
  position: relative;
  background: var(--panel);
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  overflow: hidden;
}

.login-card-pro::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, transparent 18%, rgba(255, 255, 255, 0.16) 40%, transparent 62%);
  transform: translateX(-120%);
  animation: loginSheen 4.6s ease-in-out infinite;
  pointer-events: none;
}

.dark .login-card-pro::before {
  background: linear-gradient(120deg, transparent 18%, rgba(255, 255, 255, 0.08) 40%, transparent 62%);
}

.login-form > * {
  opacity: 0;
  transform: translateY(12px) scale(0.99);
  animation: loginFieldRise 520ms cubic-bezier(0.19, 1, 0.22, 1) forwards;
}

.login-form > *:nth-child(1) { animation-delay: 80ms; }
.login-form > *:nth-child(2) { animation-delay: 130ms; }
.login-form > *:nth-child(3) { animation-delay: 180ms; }
.login-form > *:nth-child(4) { animation-delay: 230ms; }
.login-form > *:nth-child(5) { animation-delay: 280ms; }
.login-form > *:nth-child(6) { animation-delay: 330ms; }
.login-form > *:nth-child(7) { animation-delay: 380ms; }

.login-input-wrap {
  transition: transform 220ms ease, filter 220ms ease;
}

.login-input-wrap:hover {
  transform: translateY(-1px);
}

.login-input {
  transition: transform 220ms ease, box-shadow 220ms ease, border-color 220ms ease;
}

.login-input:focus {
  transform: translateY(-1px);
}

.login-cta {
  position: relative;
  overflow: hidden;
}

.login-cta::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(100deg, transparent 20%, rgba(255, 255, 255, 0.34) 50%, transparent 80%);
  transform: translateX(-125%);
  transition: transform 560ms ease;
}

.login-cta:hover::after {
  transform: translateX(125%);
}

.login-alert {
  animation: loginAlertPop 340ms cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes loginOrbDriftA {
  from { transform: translate3d(0, 0, 0) scale(1); }
  to { transform: translate3d(-36px, 18px, 0) scale(1.08); }
}

@keyframes loginOrbDriftB {
  from { transform: translate3d(0, 0, 0) scale(1); }
  to { transform: translate3d(34px, -20px, 0) scale(1.06); }
}

@keyframes loginSheen {
  0%, 58%, 100% { transform: translateX(-120%); }
  72% { transform: translateX(120%); }
}

@keyframes loginFieldRise {
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes loginAlertPop {
  0% {
    opacity: 0;
    transform: translateY(-8px) scale(0.97);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.login-grid-overlay {
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(to right, color-mix(in srgb, var(--border) 35%, transparent) 1px, transparent 1px),
    linear-gradient(to bottom, color-mix(in srgb, var(--border) 35%, transparent) 1px, transparent 1px);
  background-size: 38px 38px;
  mask-image: radial-gradient(circle at center, rgba(0, 0, 0, 0.42) 0%, transparent 68%);
  opacity: 0.3;
  animation: loginGridPan 18s linear infinite;
}

.login-icon-wrap {
  filter: drop-shadow(0 10px 24px color-mix(in srgb, var(--accent) 38%, transparent));
}

.login-icon-core {
  animation: loginIconFloat 3.4s ease-in-out infinite;
  transform-origin: center;
}

.login-icon-orbit {
  animation: loginIconPulse 2.8s ease-in-out infinite;
}

@keyframes loginGridPan {
  0% {
    transform: translate3d(0, 0, 0);
  }
  100% {
    transform: translate3d(38px, 38px, 0);
  }
}

@keyframes loginIconFloat {
  0%, 100% {
    transform: translateY(0) rotate(0deg) scale(1);
  }
  40% {
    transform: translateY(-4px) rotate(-3deg) scale(1.03);
  }
  70% {
    transform: translateY(1px) rotate(2deg) scale(0.985);
  }
}

@keyframes loginIconPulse {
  0%, 100% {
    transform: scale(0.92);
    opacity: 0.2;
  }
  50% {
    transform: scale(1.22);
    opacity: 0.38;
  }
}
